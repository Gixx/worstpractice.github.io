{%- include variables.html -%}
{%- assign post = include.post -%}
<article class="mainContent-listElement">
    <header>
        <h2><a href="{{ post.url | relative_url }}">{{ post.title | escape }}</a></h2>
    </header>
        <a class="avatar" href="/author/{{ post.author_slug | default: site.author_slug }}/index.html"><img src="{{ post.author_avatar | default: site.author_avatar }}" alt="{{ post.author | default: site.author }}"></a>
        <p class="meta">
            <span class="user"><a class="avatar" href="{{ post.author_slug | default: site.author_slug }}index.html">{{ post.author | default: site.author }}</a></span>
            <br>
            {%- assign m = post.date | date: "%-m" | minus: 0 -%}
            {%- assign postMonth = site.data[site.lang].months[m] -%}
            {%- capture postDate  -%}
                {{ postMonth }} {{ post.date | date: '%d' }}, {{ post.date | date: '%Y' }}
            {%- endcapture -%}
            <span class="date">Published at {{ postDate }},</span>
            <br>
            <span class="category">in the <a href="/{{ post.category}}/index.html">{{ post.categoryLabel }}</a> category,</span>
            <br>
            <span class="taglist">with the following tags:
                {% for tag in post.tags %}
                    <a href="/tags/{{ tag }}/index.html">#{{ post.tagLabels[forloop.index0] }}</a>{% unless forloop.last %}, {% endunless %}
                {% endfor %}
            </span>
        </p>

    <div class="preview">
        {%- if post.illustration != '' -%}
        <a href="{{ post.url | relative_url }}"><img src="/assets/img/post-illustration-placeholder.jpg" data-src="/assets/img/blog/{{ post.date | date: '%Y' }}/{{ post.illustration }}" alt="{{ post.title | escape }}"></a>
        {%- endif -%}

        <p>{{ post.excerpt }}</p>
    </div>

    <a class="more" href="{{ site.baseurl }}{{ post.url }}">Read more...</a>
</article>
